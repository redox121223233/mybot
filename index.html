<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø±Ø¨Ø§Øª Ø§Ø³ØªÛŒÚ©Ø± Ø³Ø§Ø² Ù…ØªÙ†ÛŒ - Ø³Ø§Ø®Øª Ø§Ø³ØªÛŒÚ©Ø± Ø¢Ù†Ù„Ø§ÛŒÙ†</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/sticker-styles.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-color: #4caf50;
            --warning-color: #ff9800;
            --error-color: #f44336;
            --text-primary: #333;
            --text-secondary: #666;
            --bg-white: #ffffff;
            --bg-gray: #f8f9fa;
            --shadow-light: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 10px 25px rgba(0, 0, 0, 0.1);
            --shadow-large: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background: var(--primary-gradient);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-bottom: 30px;
            color: white;
        }

        .logo {
            font-size: 60px;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        h1 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .telegram-btn {
            display: inline-flex;
            align-items: center;
            background: #0088cc;
            color: white;
            text-decoration: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-medium);
            margin: 10px;
        }

        .telegram-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-large);
        }

        .telegram-icon {
            font-size: 24px;
            margin-left: 10px;
        }

        main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .card {
            background: var(--bg-white);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow-medium);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .card-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .card-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-primary);
        }

        input, textarea, select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            font-family: 'Vazirmatn', sans-serif;
            transition: border-color 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }

        .file-upload {
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .file-upload input[type="file"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-upload-label {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
            background: var(--bg-gray);
            border: 2px dashed #667eea;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload-label:hover {
            background: #f0f0f0;
            border-color: #764ba2;
        }

        .upload-icon {
            font-size: 40px;
            margin-left: 15px;
        }

        .mode-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .mode-btn {
            flex: 1;
            padding: 15px;
            border: 2px solid #e0e0e0;
            background: var(--bg-white);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .mode-btn.active {
            background: var(--primary-gradient);
            color: white;
            border-color: #667eea;
        }

        .mode-btn:hover {
            transform: translateY(-2px);
        }

        .mode-icon {
            font-size: 24px;
            display: block;
            margin-bottom: 5px;
        }

        .advanced-options {
            display: none;
            background: var(--bg-gray);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .advanced-options.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .color-picker-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .color-picker {
            width: 60px;
            height: 40px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
        }

        .color-preview {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-weight: 500;
        }

        .position-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .position-btn {
            padding: 15px;
            border: 2px solid #e0e0e0;
            background: var(--bg-white);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .position-btn.active {
            background: #667eea;
            color: white;
        }

        .slider-container {
            margin-top: 10px;
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #e0e0e0;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
        }

        .btn-secondary {
            background: #e0e0e0;
            color: var(--text-primary);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .preview-area {
            background: var(--bg-gray);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .preview-placeholder {
            color: var(--text-secondary);
            font-size: 16px;
        }

        .preview-image {
            max-width: 100%;
            max-height: 300px;
            border-radius: 10px;
            box-shadow: var(--shadow-light);
        }

        .status-message {
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            text-align: center;
            font-weight: 500;
        }

        .status-success {
            background: #e8f5e8;
            color: var(--success-color);
            border: 1px solid #4caf50;
        }

        .status-error {
            background: #ffeaea;
            color: var(--error-color);
            border: 1px solid #f44336;
        }

        .status-warning {
            background: #fff3e0;
            color: var(--warning-color);
            border: 1px solid #ff9800;
        }

        .quota-info {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            color: #1976d2;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .feature-card {
            background: var(--bg-white);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: var(--shadow-light);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 40px;
            margin-bottom: 15px;
        }

        .feature-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .feature-description {
            color: var(--text-secondary);
            font-size: 14px;
        }

        footer {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            color: white;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 20px;
        }

        .footer-section h3 {
            margin-bottom: 15px;
            font-size: 20px;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section li {
            margin-bottom: 10px;
        }

        .footer-section a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-section a:hover {
            color: white;
        }

        .help-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .help-modal.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: var(--bg-white);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            margin: 20px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-close {
            font-size: 24px;
            cursor: pointer;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .modal-close:hover {
            color: var(--text-primary);
        }

        @media (max-width: 768px) {
            main {
                grid-template-columns: 1fr;
            }

            .mode-selector {
                flex-direction: column;
            }

            .action-buttons {
                flex-direction: column;
            }

            h1 {
                font-size: 28px;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }
        }

        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">ğŸ¨</div>
            <h1>Ø±Ø¨Ø§Øª Ø§Ø³ØªÛŒÚ©Ø± Ø³Ø§Ø² Ù…ØªÙ†ÛŒ</h1>
            <p class="subtitle">Ø³Ø§Ø®Øª Ø§Ø³ØªÛŒÚ©Ø± Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ø§ Ù…ØªÙ† Ùˆ ØªØµÙˆÛŒØ± Ø¯Ù„Ø®ÙˆØ§Ù‡</p>
            <div class="header-actions">
                <a href="https://t.me/matnsticker_bot" class="telegram-btn">
                    <span class="telegram-icon">ğŸ“±</span>
                    Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù…
                </a>
                <button class="telegram-btn" onclick="showHelp()">
                    <span class="telegram-icon">ğŸ“–</span>
                    Ø±Ø§Ù‡Ù†Ù…Ø§
                </button>
            </div>
        </header>

        <section class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">ğŸ¨</div>
                <h3 class="feature-title">Ø§Ø³ØªÛŒÚ©Ø± Ø³Ø§Ø¯Ù‡</h3>
                <p class="feature-description">Ø³Ø§Ø®Øª Ø§Ø³ØªÛŒÚ©Ø± Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯ Ø¨Ø§ Ø¹Ú©Ø³ Ùˆ Ù…ØªÙ† Ø¯Ù„Ø®ÙˆØ§Ù‡</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">âš¡</div>
                <h3 class="feature-title">Ø§Ø³ØªÛŒÚ©Ø± Ù¾ÛŒØ´Ø±ÙØªÙ‡</h3>
                <p class="feature-description">ØªÙ†Ø¸ÛŒÙ… Ú©Ø§Ù…Ù„ Ø±Ù†Ú¯ØŒ Ø§Ù†Ø¯Ø§Ø²Ù‡ØŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…ØªÙ† (3 Ø¨Ø§Ø± Ø¯Ø± Ø±ÙˆØ²)</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ğŸ“¦</div>
                <h3 class="feature-title">Ù¾Ú© Ø§Ø³ØªÛŒÚ©Ø±</h3>
                <p class="feature-description">Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ú© Ø§Ø³ØªÛŒÚ©Ø± Ø´Ø®ØµÛŒ Ø¨Ø§ Ù†Ø§Ù… Ø¯Ù„Ø®ÙˆØ§Ù‡</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">ğŸŒ</div>
                <h3 class="feature-title">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ÙØ§Ø±Ø³ÛŒ</h3>
                <p class="feature-description">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ø§Ù…Ù„ Ø§Ø² Ù…ØªÙ† ÙØ§Ø±Ø³ÛŒ Ùˆ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ</p>
            </div>
        </section>

        <main>
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ğŸ¨ Ø³Ø§Ø®Øª Ø§Ø³ØªÛŒÚ©Ø± Ø¢Ù†Ù„Ø§ÛŒÙ†</h2>
                    <p class="card-subtitle">Ù‡Ù…ÛŒÙ† Ø­Ø§Ù„Ø§ Ø§Ø³ØªÛŒÚ©Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø³Ø§Ø²ÛŒØ¯</p>
                </div>

                <div class="mode-selector">
                    <div class="mode-btn active" onclick="selectMode('simple')">
                        <span class="mode-icon">ğŸ¨</span>
                        Ø³Ø§Ø¯Ù‡ (Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯)
                    </div>
                    <div class="mode-btn" onclick="selectMode('advanced')">
                        <span class="mode-icon">âš¡</span>
                        Ù¾ÛŒØ´Ø±ÙØªÙ‡
                    </div>
                </div>

                <div id="quotaInfo" class="quota-info" style="display: none;">
                    <div>ğŸ“Š Ø³Ù‡Ù…ÛŒÙ‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø§Ù…Ø±ÙˆØ²: <span id="remainingQuota">3</span> Ø§Ø² 3</div>
                </div>

                <form id="stickerForm">
                    <div class="form-group">
                        <label for="packName">Ù†Ø§Ù… Ù¾Ú© Ø§Ø³ØªÛŒÚ©Ø± (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
                        <input type="text" id="packName" placeholder="Ù…Ø«Ø§Ù„: Ø§Ø³ØªÛŒÚ©Ø±Ù‡Ø§ÛŒ Ù…Ù†" maxlength="64">
                        <small style="color: var(--text-secondary); display: block; margin-top: 5px;">
                            Ø§Ú¯Ø± Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ù¾Ú© Ø¨Ø³Ø§Ø²ÛŒØ¯ØŒ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ø§ Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯
                        </small>
                    </div>

                    <div class="form-group">
                        <label for="imageUpload">ØªØµÙˆÛŒØ± Ø§Ø³ØªÛŒÚ©Ø±</label>
                        <div class="file-upload">
                            <input type="file" id="imageUpload" accept="image/*" onchange="handleImageUpload(event)">
                            <div class="file-upload-label">
                                <span class="upload-icon">ğŸ“·</span>
                                <span>Ø¨Ø±Ø§ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø¨Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ú©Ø´ÛŒØ¯</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="stickerText">Ù…ØªÙ† Ø§Ø³ØªÛŒÚ©Ø±</label>
                        <textarea id="stickerText" rows="3" placeholder="Ù…ØªÙ† Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..." maxlength="100"></textarea>
                    </div>

                    <div id="advancedOptions" class="advanced-options">
                        <h3 style="margin-bottom: 15px;">âš™ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</h3>
                        
                        <div class="form-group">
                            <label>Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…ØªÙ†</label>
                            <div class="position-grid">
                                <div class="position-btn" onclick="selectPosition('top-left')">â†–ï¸</div>
                                <div class="position-btn" onclick="selectPosition('top-center')">â¬†ï¸</div>
                                <div class="position-btn" onclick="selectPosition('top-right')">â†—ï¸</div>
                                <div class="position-btn" onclick="selectPosition('center-left')">â¬…ï¸</div>
                                <div class="position-btn active" onclick="selectPosition('center')">â­•</div>
                                <div class="position-btn" onclick="selectPosition('center-right')">â¡ï¸</div>
                                <div class="position-btn" onclick="selectPosition('bottom-left')">â†™ï¸</div>
                                <div class="position-btn" onclick="selectPosition('bottom-center')">â¬‡ï¸</div>
                                <div class="position-btn" onclick="selectPosition('bottom-right')">â†˜ï¸</div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="fontSize">Ø§Ù†Ø¯Ø§Ø²Ù‡ ÙÙˆÙ†Øª</label>
                            <div class="slider-container">
                                <input type="range" id="fontSize" class="slider" min="20" max="80" value="40">
                                <div style="text-align: center; margin-top: 5px;">
                                    <span id="fontSizeValue">40</span> Ù¾ÛŒÚ©Ø³Ù„
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="textColor">Ø±Ù†Ú¯ Ù…ØªÙ†</label>
                            <div class="color-picker-wrapper">
                                <input type="color" id="textColor" class="color-picker" value="#ffffff">
                                <div class="color-preview" id="colorPreview" style="background: #ffffff; color: #000;">
                                    #FFFFFF
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ù¾ÛŒØ´â€ŒÙØ±Ø¶</label>
                            <select id="defaultBackground" onchange="updateDefaultBackground()">
                                <option value="">Ø¨Ø¯ÙˆÙ† Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡</option>
                                <option value="gradient1">Ú¯Ø±Ø§Ø¯ÛŒØ§Ù† Ø¢Ø¨ÛŒ</option>
                                <option value="gradient2">Ú¯Ø±Ø§Ø¯ÛŒØ§Ù† Ø¨Ù†ÙØ´</option>
                                <option value="gradient3">Ú¯Ø±Ø§Ø¯ÛŒØ§Ù† ØµÙˆØ±ØªÛŒ</option>
                                <option value="solid1">Ø³ÙÛŒØ¯</option>
                                <option value="solid2">Ù…Ø´Ú©ÛŒ</option>
                                <option value="solid3">Ø¢Ø¨ÛŒ</option>
                            </select>
                        </div>
                    </div>

                    <div class="preview-area">
                        <div id="previewPlaceholder" class="preview-placeholder">
                            Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ Ø§Ø³ØªÛŒÚ©Ø± Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
                        </div>
                        <img id="previewImage" class="preview-image" style="display: none;">
                    </div>

                    <div class="action-buttons">
                        <button type="button" class="btn btn-secondary" onclick="previewSticker()">
                            ğŸ‘ï¸ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´
                        </button>
                        <button type="submit" class="btn btn-primary" id="createBtn">
                            âœ¨ Ø³Ø§Ø®Øª Ø§Ø³ØªÛŒÚ©Ø±
                        </button>
                    </div>
                </form>

                <div id="statusMessage" style="display: none;"></div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ğŸ“– Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡</h2>
                    <p class="card-subtitle">Ú†Ø·ÙˆØ± Ø§Ø² Ø§Ø³ØªÛŒÚ©Ø± Ø³Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…ØŸ</p>
                </div>

                <div class="guide-content">
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: var(--primary-color); margin-bottom: 10px;">ğŸ¨ Ø­Ø§Ù„Øª Ø³Ø§Ø¯Ù‡</h3>
                        <ul style="padding-right: 20px; line-height: 1.8;">
                            <li>Ù†Ø§Ù… Ù¾Ú© Ø§Ø³ØªÛŒÚ©Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</li>
                            <li>ØªØµÙˆÛŒØ± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯</li>
                            <li>Ù…ØªÙ† Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯</li>
                            <li>Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ "Ø³Ø§Ø®Øª Ø§Ø³ØªÛŒÚ©Ø±" Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</li>
                            <li>Ø§Ø³ØªÛŒÚ©Ø± Ø´Ù…Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø³Øª!</li>
                        </ul>
                    </div>

                    <div style="margin-bottom: 25px;">
                        <h3 style="color: var(--primary-color); margin-bottom: 10px;">âš¡ Ø­Ø§Ù„Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</h3>
                        <ul style="padding-right: 20px; line-height: 1.8;">
                            <li>ØªÙ…Ø§Ù… Ù…Ø±Ø§Ø­Ù„ Ø­Ø§Ù„Øª Ø³Ø§Ø¯Ù‡ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯</li>
                            <li>Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…ØªÙ† Ø±Ø§ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒç½‘æ ¼ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</li>
                            <li>Ø§Ù†Ø¯Ø§Ø²Ù‡ ÙÙˆÙ†Øª Ø±Ø§ Ø¨Ø§ Ø§Ø³Ù„Ø§ÛŒØ¯Ø± ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯</li>
                            <li>Ø±Ù†Ú¯ Ù…ØªÙ† Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</li>
                            <li>Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø±Ø§ Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</li>
                        </ul>
                    </div>

                    <div style="margin-bottom: 25px;">
                        <h3 style="color: var(--primary-color); margin-bottom: 10px;">ğŸ“¦ Ù‚ÙˆØ§Ù†ÛŒÙ† Ù†Ø§Ù… Ù¾Ú©</h3>
                        <ul style="padding-right: 20px; line-height: 1.8;">
                            <li>Ù†Ø§Ù… Ù¾Ú© Ø¨Ø§ÛŒØ¯ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø¨Ø§Ø´Ø¯</li>
                            <li>Ø­Ø¯Ø§Ú©Ø«Ø± 64 Ú©Ø§Ø±Ø§Ú©ØªØ± Ù…Ø¬Ø§Ø² Ø§Ø³Øª</li>
                            <li>ÙÙ‚Ø· Ø­Ø±ÙˆÙ ÙØ§Ø±Ø³ÛŒØŒ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒØŒ Ø¹Ø¯Ø¯ Ùˆ _</li>
                            <li>Ù†Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ù¾Ú©â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ ØªÚ©Ø±Ø§Ø±ÛŒ Ø¨Ø§Ø´Ø¯</li>
                            <li>Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ù†Ø§Ù… Ù¾Ú© Ø§Ø² Ù‚Ø¨Ù„ Ú¯Ø±ÙØªÙ‡ Ù†Ø´Ø¯Ù‡</li>
                        </ul>
                    </div>

                    <div style="margin-bottom: 25px;">
                        <h3 style="color: var(--primary-color); margin-bottom: 10px;">ğŸ’¡ Ù†Ú©Ø§Øª Ù…ÙÛŒØ¯</h3>
                        <ul style="padding-right: 20px; line-height: 1.8;">
                            <li>Ø­Ø§Ù„Øª Ø³Ø§Ø¯Ù‡ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡ Ù†Ø¯Ø§Ø±Ø¯</li>
                            <li>Ø­Ø§Ù„Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø±ÙˆØ²Ø§Ù†Ù‡ 3 Ø¨Ø§Ø± Ù‚Ø§Ø¨Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø³Øª</li>
                            <li>Ø¨Ø±Ø§ÛŒ Ù…ØªÙ† ÙØ§Ø±Ø³ÛŒØŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</li>
                            <li>ØªØµØ§ÙˆÛŒØ± Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨Ù‡ØªØ± Ù†ØªÛŒØ¬Ù‡ Ø¨Ù‡ØªØ±ÛŒ Ø¯Ø§Ø±Ù†Ø¯</li>
                            <li>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø¯ÙˆÙ† ØªØµÙˆÛŒØ± Ù‡Ù… Ø§Ø³ØªÛŒÚ©Ø± Ø¨Ø³Ø§Ø²ÛŒØ¯</li>
                        </ul>
                    </div>

                    <div style="background: var(--bg-gray); padding: 20px; border-radius: 10px;">
                        <h3 style="margin-bottom: 15px;">ğŸ†˜ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</h3>
                        <p style="margin-bottom: 10px;">
                            Ø¨Ø±Ø§ÛŒ Ø³ÙˆØ§Ù„Ø§Øª Ùˆ Ù…Ø´Ú©Ù„Ø§Øª Ø¨Ø§ Ø§Ø¯Ù…ÛŒÙ† Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§Ø´ÛŒØ¯:
                        </p>
                        <a href="https://t.me/onedaytoalive" class="telegram-btn" style="margin: 10px 0;">
                            <span class="telegram-icon">ğŸ“</span>
                            @onedaytoalive
                        </a>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ğŸ¨ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</h3>
                    <p>
                        Ø±Ø¨Ø§Øª Ø§Ø³ØªÛŒÚ©Ø± Ø³Ø§Ø² Ù…ØªÙ†ÛŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª Ø§Ø³ØªÛŒÚ©Ø±Ù‡Ø§ÛŒ Ø´Ø®ØµÛŒ Ø¯Ø± ØªÙ„Ú¯Ø±Ø§Ù… Ø§Ø³Øª
                    </p>
                </div>
                <div class="footer-section">
                    <h3>ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ø³Ø±ÛŒØ¹</h3>
                    <ul>
                        <li><a href="https://t.me/matnsticker_bot">Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù…</a></li>
                        <li><a href="#" onclick="showHelp()">Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„</a></li>
                        <li><a href="https://t.me/onedaytoalive">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>ğŸ“± Ø§Ù…Ú©Ø§Ù†Ø§Øª</h3>
                    <ul>
                        <li>Ø³Ø§Ø®Øª Ø§Ø³ØªÛŒÚ©Ø± Ø¢Ù†Ù„Ø§ÛŒÙ†</li>
                        <li>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ù…ØªÙ† ÙØ§Ø±Ø³ÛŒ</li>
                        <li>Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ú© Ø§Ø³ØªÛŒÚ©Ø±</li>
                        <li>Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø³Ø§Ø¯Ù‡</li>
                    </ul>
                </div>
            </div>
            <div style="border-top: 1px solid rgba(255,255,255,0.2); padding-top: 20px; margin-top: 20px;">
                <p>&copy; 2024 Ø±Ø¨Ø§Øª Ø§Ø³ØªÛŒÚ©Ø± Ø³Ø§Ø² Ù…ØªÙ†ÛŒ - ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª</p>
            </div>
        </footer>
    </div>

    <div id="helpModal" class="help-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“– Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„</h2>
                <span class="modal-close" onclick="closeHelp()">&times;</span>
            </div>
            <div class="modal-body">
                <h3>ğŸš€ Ø´Ø±ÙˆØ¹ Ú©Ø§Ø±</h3>
                <p>Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø³Ø§Ø®Øª Ø§Ø³ØªÛŒÚ©Ø±ØŒ Ú©Ø§ÙÛŒØ³Øª ÛŒÚ©ÛŒ Ø§Ø² Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡ ÛŒØ§ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</p>

                <h3>ğŸ¨ Ø­Ø§Ù„Øª Ø³Ø§Ø¯Ù‡</h3>
                <p>Ø¯Ø± Ø§ÛŒÙ† Ø­Ø§Ù„Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø§Ø³ØªÛŒÚ©Ø± Ø¨Ø³Ø§Ø²ÛŒØ¯. ÙÙ‚Ø· Ú©Ø§ÙÛŒØ³Øª ØªØµÙˆÛŒØ± Ùˆ Ù…ØªÙ† Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.</p>

                <h3>âš¡ Ø­Ø§Ù„Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</h3>
                <p>Ø¯Ø± Ø­Ø§Ù„Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¯Ø§Ø±ÛŒØ¯ Ø§Ù…Ø§ Ø±ÙˆØ²Ø§Ù†Ù‡ ÙÙ‚Ø· Û³ Ø¨Ø§Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.</p>

                <h3>ğŸ“¦ Ù†Ø§Ù… Ù¾Ú© Ø§Ø³ØªÛŒÚ©Ø±</h3>
                <p>Ù†Ø§Ù… Ù¾Ú© Ø¨Ø§ÛŒØ¯ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø¨Ø§Ø´Ø¯ Ùˆ Ø·Ø¨Ù‚ Ù‚ÙˆØ§Ù†ÛŒÙ† ØªÙ„Ú¯Ø±Ø§Ù… Ø§Ù†ØªØ®Ø§Ø¨ Ø´ÙˆØ¯. Ø§Ú¯Ø± Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ù¾Ú© Ø¨Ø³Ø§Ø²ÛŒØ¯ØŒ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø±Ø§ Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯.</p>

                <h3>ğŸ¯ Ù†Ú©Ø§Øª Ù…Ù‡Ù…</h3>
                <ul>
                    <li>Ø§Ø² ØªØµØ§ÙˆÛŒØ± Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨Ø±Ø§ÛŒ Ù†ØªÛŒØ¬Ù‡ Ø¨Ù‡ØªØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                    <li>Ù…ØªÙ† ÙØ§Ø±Ø³ÛŒ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø±Ø§Ø³Øªâ€ŒÚ†ÛŒÙ† Ù…ÛŒâ€ŒØ´ÙˆØ¯</li>
                    <li>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø¯ÙˆÙ† ØªØµÙˆÛŒØ± ÙÙ‚Ø· Ø¨Ø§ Ù…ØªÙ† Ø§Ø³ØªÛŒÚ©Ø± Ø¨Ø³Ø§Ø²ÛŒØ¯</li>
                    <li>Ø§Ø³ØªÛŒÚ©Ø±Ù‡Ø§ÛŒ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ ÙØ±Ù…Øª WEBP Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        let currentMode = 'simple';
        let selectedPosition = 'center';
        let uploadedImage = null;
        let userQuota = 3;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadUserQuota();
            setupEventListeners();
        });

        function setupEventListeners() {
            // Form submission
            document.getElementById('stickerForm').addEventListener('submit', function(e) {
                e.preventDefault();
                createSticker();
            });

            // Font size slider
            document.getElementById('fontSize').addEventListener('input', function(e) {
                document.getElementById('fontSizeValue').textContent = e.target.value;
            });

            // Color picker
            document.getElementById('textColor').addEventListener('input', function(e) {
                updateColorPreview(e.target.value);
            });

            // Drag and drop
            const uploadArea = document.querySelector('.file-upload-label');
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.background = '#f0f0f0';
            });

            uploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.style.background = 'var(--bg-gray)';
            });

            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.background = 'var(--bg-gray)';
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleImageFile(files[0]);
                }
            });
        }

        function selectMode(mode) {
            currentMode = mode;
            
            // Update UI
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.mode-btn').classList.add('active');

            // Show/hide advanced options
            const advancedOptions = document.getElementById('advancedOptions');
            const quotaInfo = document.getElementById('quotaInfo');
            
            if (mode === 'advanced') {
                advancedOptions.classList.add('show');
                quotaInfo.style.display = 'block';
                checkQuota();
            } else {
                advancedOptions.classList.remove('show');
                quotaInfo.style.display = 'none';
            }
        }

        function loadUserQuota() {
            // Simulate loading user quota (in real app, this would be from API)
            const savedQuota = localStorage.getItem('stickerQuota');
            if (savedQuota) {
                const data = JSON.parse(savedQuota);
                const now = new Date();
                const lastReset = new Date(data.lastReset);
                
                if (now - lastReset >= 24 * 60 * 60 * 1000) {
                    // Reset quota after 24 hours
                    userQuota = 3;
                    localStorage.setItem('stickerQuota', JSON.stringify({
                        quota: 3,
                        lastReset: now.toISOString()
                    }));
                } else {
                    userQuota = data.quota;
                }
            }
            
            document.getElementById('remainingQuota').textContent = userQuota;
        }

        function checkQuota() {
            if (currentMode === 'advanced' && userQuota <= 0) {
                showMessage('Ø³Ù‡Ù…ÛŒÙ‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø´Ù…Ø§ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ Ø§Ø³Øª! Ù„Ø·ÙØ§Ù‹ ÙØ±Ø¯Ø§ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø§Ø² Ø­Ø§Ù„Øª Ø³Ø§Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.', 'warning');
                document.getElementById('createBtn').disabled = true;
                return false;
            }
            document.getElementById('createBtn').disabled = false;
            return true;
        }

        function selectPosition(position) {
            selectedPosition = position;
            document.querySelectorAll('.position-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                handleImageFile(file);
            }
        }

        function handleImageFile(file) {
            if (!file.type.startsWith('image/')) {
                showMessage('Ù„Ø·ÙØ§Ù‹ ÙÙ‚Ø· ØªØµÙˆÛŒØ± Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯!', 'error');
                return;
            }

            if (file.size > 10 * 1024 * 1024) {
                showMessage('Ø­Ø¬Ù… ØªØµÙˆÛŒØ± Ù†Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² 10MB Ø¨Ø§Ø´Ø¯!', 'error');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                uploadedImage = e.target.result;
                updateUploadLabel(file.name);
                showMessage('ØªØµÙˆÛŒØ± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯!', 'success');
            };
            reader.readAsDataURL(file);
        }

        function updateUploadLabel(filename) {
            const label = document.querySelector('.file-upload-label');
            label.innerHTML = `
                <span class="upload-icon">âœ…</span>
                <span>${filename}</span>
            `;
        }

        function updateColorPreview(color) {
            const preview = document.getElementById('colorPreview');
            preview.style.background = color;
            preview.textContent = color.toUpperCase();
            
            // Adjust text color for readability
            const rgb = parseInt(color.slice(1), 16);
            const r = (rgb >> 16) & 255;
            const g = (rgb >> 8) & 255;
            const b = rgb & 255;
            const brightness = (r * 299 + g * 587 + b * 114) / 1000;
            preview.style.color = brightness > 128 ? '#000' : '#fff';
        }

        function updateDefaultBackground() {
            const bg = document.getElementById('defaultBackground').value;
            // This would update the canvas background in real implementation
            console.log('Background changed to:', bg);
        }

        function previewSticker() {
            if (!uploadedImage && !document.getElementById('stickerText').value) {
                showMessage('Ù„Ø·ÙØ§Ù‹ Ø­Ø¯Ø§Ù‚Ù„ ØªØµÙˆÛŒØ± ÛŒØ§ Ù…ØªÙ† ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!', 'error');
                return;
            }

            // Show loading
            showMessage('Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´...', 'warning');

            // Simulate preview generation (in real app, this would use Canvas API)
            setTimeout(() => {
                if (uploadedImage) {
                    document.getElementById('previewPlaceholder').style.display = 'none';
                    document.getElementById('previewImage').src = uploadedImage;
                    document.getElementById('previewImage').style.display = 'block';
                }
                showMessage('Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯!', 'success');
            }, 1000);
        }

        function createSticker() {
            if (currentMode === 'advanced' && !checkQuota()) {
                return;
            }

            const packName = document.getElementById('packName').value;
            const text = document.getElementById('stickerText').value;

            if (!text) {
                showMessage('Ù„Ø·ÙØ§Ù‹ Ù…ØªÙ† Ø§Ø³ØªÛŒÚ©Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!', 'error');
                return;
            }

            if (packName && !validatePackName(packName)) {
                showMessage('Ù†Ø§Ù… Ù¾Ú© Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª! Ù„Ø·ÙØ§Ù‹ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø±Ø§ Ù…Ø·Ø§Ù„Ø¹Ù‡ Ú©Ù†ÛŒØ¯.', 'error');
                return;
            }

            // Show loading
            showMessage('Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª Ø§Ø³ØªÛŒÚ©Ø±...', 'warning');
            document.getElementById('createBtn').disabled = true;

            // Simulate sticker creation (in real app, this would call API)
            setTimeout(() => {
                // Update quota for advanced mode
                if (currentMode === 'advanced') {
                    userQuota--;
                    document.getElementById('remainingQuota').textContent = userQuota;
                    localStorage.setItem('stickerQuota', JSON.stringify({
                        quota: userQuota,
                        lastReset: new Date().toISOString()
                    }));
                }

                // Show success message
                showMessage('Ø§Ø³ØªÛŒÚ©Ø± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯! Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡ Ú©Ø±Ø¯Ù† Ø¯Ø§Ù†Ù„ÙˆØ¯...', 'success');

                // Simulate download
                setTimeout(() => {
                    downloadSticker();
                    document.getElementById('createBtn').disabled = false;
                }, 1000);
            }, 2000);
        }

        function validatePackName(packName) {
            // Basic validation
            if (packName.length < 1 || packName.length > 64) {
                return false;
            }

            // Check allowed characters (Persian, English, numbers, underscore)
            const validPattern = /^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFFa-zA-Z0-9_]+$/;
            if (!validPattern.test(packName)) {
                return false;
            }

            return true;
        }

        function downloadSticker() {
            // Simulate download (in real app, this would download the created sticker)
            showMessage('Ø§Ø³ØªÛŒÚ©Ø± Ø¨Ø§ ÙØ±Ù…Øª WEBP Ø¢Ù…Ø§Ø¯Ù‡ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø´Ø¯! ğŸ‰', 'success');
            
            // Create a sample download
            const link = document.createElement('a');
            link.href = uploadedImage || 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==';
            link.download = 'sticker.webp';
            link.click();
        }

        function showMessage(message, type) {
            const statusDiv = document.getElementById('statusMessage');
            statusDiv.textContent = message;
            statusDiv.className = `status-message status-${type}`;
            statusDiv.style.display = 'block';

            // Auto-hide after 5 seconds
            setTimeout(() => {
                statusDiv.style.display = 'none';
            }, 5000);
        }

        function showHelp() {
            document.getElementById('helpModal').classList.add('show');
        }

        function closeHelp() {
            document.getElementById('helpModal').classList.remove('show');
        }

        // Close modal when clicking outside
        document.getElementById('helpModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeHelp();
            }
        });
    </script>
    <script src="js/sticker-creator.js"></script>
</body>
</html>