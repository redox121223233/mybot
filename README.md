# ๐ค ุฑุจุงุช ุณุงุฎุช ุงุณุชฺฉุฑ ูุชู

ุงู ุฑุจุงุช ุจุฑุง ุณุงุฎุช ุงุณุชฺฉุฑูุง ูุชู ูุงุฑุณ ู ุงูฺฏูุณ ุฏุฑ ุชูฺฏุฑุงู ุทุฑุงุญ ุดุฏู ุงุณุช.

## ๐ง ูุดฺฉูุงุช ุญู ุดุฏู

### 1. ูุดฺฉู ูุงูโูุง ุจุฒุฑฺฏ
- **ูุดฺฉู**: ููุช ฺฉุงุฑุจุฑุงู ุนฺฉุณโูุง ุจุฒุฑฺฏ ุงุฑุณุงู ูโฺฉุฑุฏูุฏุ ุฑุจุงุช ุฎุทุง "file is too big" ูโุฏุงุฏ
- **ุฑุงูโุญู**: 
  - ุจุฑุฑุณ ุญุฌู ูุงู ูุจู ุงุฒ ุฏุงูููุฏ (ุญุฏุงฺฉุซุฑ 20MB)
  - ูุดุฑุฏูโุณุงุฒ ุฎูุฏฺฉุงุฑ ุชุตุงูุฑ ุจุฒุฑฺฏ
  - ุชุบุฑ ุงูุฏุงุฒู ุชุตุงูุฑ ุจุฒุฑฺฏุชุฑ ุงุฒ 2048 ูพฺฉุณู
  - ุชูุธู ฺฉูุช ุจุฑ ุงุณุงุณ ุญุฌู ูุงู (75-90%)

### 2. ูุดฺฉู ุงุณู ูพฺฉ ุชฺฉุฑุงุฑ
- **ูุดฺฉู**: ุฑุจุงุช ุงุณู ูพฺฉ ููู ฺฉุงุฑุจุฑุงู ุฑุง ุฐุฎุฑู ูโฺฉุฑุฏ ู ุชุฏุงุฎู ุงุฌุงุฏ ูโุดุฏ
- **ุฑุงูโุญู**:
  - ุงุถุงูู ฺฉุฑุฏู ุดูุงุณู ฺฉุงุฑุจุฑ ุจู ูุงู ูพฺฉ: `{pack_name}_{user_id}_by_{bot_username}`
  - ุณุณุชู ุดูุงุฑูโฺฏุฐุงุฑ ุฎูุฏฺฉุงุฑ ุฏุฑ ุตูุฑุช ุชุฏุงุฎู
  - ูุญุฏูุฏุช ุทูู ูุงู ูพฺฉ (64 ฺฉุงุฑุงฺฉุชุฑ)

### 3. ุจูุจูุฏ ุฐุฎุฑูโุณุงุฒ ุฏุงุฏูโูุง
- **ูุจู**: ุฏุงุฏูโูุง ุฏุฑ ุญุงูุธู ูฺฏูุฏุงุฑ ูโุดุฏูุฏ
- **ุจุนุฏ**: ุณุณุชู ูุฏุฑุช ุฏุชุงุจุณ ุจุง ูุงูโูุง JSON ุฌุฏุงฺฏุงูู:
  - `users.json` - ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู
  - `subscriptions.json` - ุงุดุชุฑุงฺฉโูุง
  - `user_packs.json` - ูพฺฉโูุง ุงุณุชฺฉุฑ ฺฉุงุฑุจุฑุงู
  - `pending_payments.json` - ูพุฑุฏุงุฎุชโูุง ุฏุฑ ุงูุชุธุงุฑ
  - `feedback_data.json` - ุจุงุฒุฎูุฑุฏูุง ฺฉุงุฑุจุฑุงู
  - `bot_settings.json` - ุชูุธูุงุช ุฑุจุงุช

## ๐ ุณุงุฎุชุงุฑ ูุงูโูุง

```
sticker bot/
โโโ bot.py                 # ูุงู ุงุตู ุฑุจุงุช
โโโ database_manager.py    # ูุฏุฑุช ุฏุชุงุจุณ
โโโ README.md             # ุฑุงูููุง ุงุณุชูุงุฏู
โโโ users.json            # ุฏุงุฏูโูุง ฺฉุงุฑุจุฑุงู
โโโ subscriptions.json    # ุงุทูุงุนุงุช ุงุดุชุฑุงฺฉโูุง
โโโ user_packs.json       # ูพฺฉโูุง ุงุณุชฺฉุฑ ฺฉุงุฑุจุฑุงู
โโโ pending_payments.json # ูพุฑุฏุงุฎุชโูุง ุฏุฑ ุงูุชุธุงุฑ
โโโ feedback_data.json    # ุจุงุฒุฎูุฑุฏูุง ฺฉุงุฑุจุฑุงู
โโโ bot_settings.json     # ุชูุธูุงุช ุฑุจุงุช
โโโ fonts/               # ูููุชโูุง ูุงุฑุณ ู ุงูฺฏูุณ
    โโโ Vazirmatn-Regular.ttf
    โโโ IRANSans.ttf
    โโโ arial.ttf
```

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### 1. ูุตุจ ฺฉุชุงุจุฎุงููโูุง
```bash
pip install flask requests pillow waitress arabic-reshaper python-bidi
```

### 2. ุชูุธู ูุชุบุฑูุง ูุญุท
```bash
export BOT_TOKEN="your_bot_token_here"
export APP_URL="https://your-app-url.com"
export BOT_USERNAME="your_bot_username"
export CHANNEL_LINK="@your_channel"
export CARD_NUMBER="1234-5678-9012-3456"
export CARD_NAME="ูุงู ุตุงุญุจ ฺฉุงุฑุช"
```

### 3. ุงุฌุฑุง ุฑุจุงุช
```bash
python bot.py
```

## ๐ง ุงุณุชูุงุฏู ุงุฒ DatabaseManager

```python
from database_manager import DatabaseManager

# ุงุฌุงุฏ ููููู
db = DatabaseManager("./data")

# ฺฉุงุฑ ุจุง ฺฉุงุฑุจุฑุงู
user_data = db.get_user_data(user_id)
db.set_user_data(user_id, {"name": "ุนู", "lang": "fa"})

# ฺฉุงุฑ ุจุง ุงุดุชุฑุงฺฉโูุง
if db.is_subscribed(user_id):
    print("ฺฉุงุฑุจุฑ ุงุดุชุฑุงฺฉ ูุนุงู ุฏุงุฑุฏ")

# ุงุถุงูู ฺฉุฑุฏู ูพฺฉ ุฌุฏุฏ
db.add_user_pack(user_id, {
    "name": "my_pack_123_by_bot",
    "title": "ูพฺฉ ูู",
    "sticker_count": 1
})

# ุฏุฑุงูุช ุขูุงุฑ
stats = db.get_stats()
print(f"ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู: {stats['total_users']}")
```

## ๐ ูฺฺฏโูุง ุฌุฏุฏ

### 1. ูุฏุฑุช ุญุฌู ูุงู
- ุจุฑุฑุณ ุญุฌู ูุจู ุงุฒ ุฏุงูููุฏ
- ูุดุฑุฏูโุณุงุฒ ุฎูุฏฺฉุงุฑ
- ูพุงูโูุง ุฑุงูููุง ุจุฑุง ฺฉุงุฑุจุฑุงู

### 2. ูุฏุฑุช ูพฺฉโูุง ุงุณุชฺฉุฑ
- ูุงูโฺฏุฐุงุฑ ููุญุตุฑ ุจู ูุฑุฏ ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ
- ุฑุฏุงุจ ุชุนุฏุงุฏ ุงุณุชฺฉุฑูุง ุฏุฑ ูุฑ ูพฺฉ
- ุชุงุฑุฎฺู ูพฺฉโูุง ุณุงุฎุชู ุดุฏู

### 3. ุณุณุชู ุจุงุฒุฎูุฑุฏ
- ุฐุฎุฑู ูุธุฑุงุช ูุซุจุช ู ููู
- ุขูุงุฑ ุฑุถุงุช ฺฉุงุฑุจุฑุงู
- ุจูุจูุฏ ูุณุชูุฑ ุจุฑ ุงุณุงุณ ุจุงุฒุฎูุฑุฏ

### 4. ูพุดุชุจุงูโฺฏุฑ ุฎูุฏฺฉุงุฑ
- ูพุดุชุจุงูโฺฏุฑ ุฑูุฒุงูู ุงุฒ ุฏุงุฏูโูุง
- ุญุฐู ุฎูุฏฺฉุงุฑ ูพุดุชุจุงูโูุง ูุฏู
- ุจุงุฒุงุจ ุขุณุงู ุฏุฑ ุตูุฑุช ูุดฺฉู

## ๐๏ธ ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ:

1. **ุฎุทุง "file is too big"**
   - ุจุฑุฑุณ ฺฉูุฏ ุญุฌู ุนฺฉุณ ฺฉูุชุฑ ุงุฒ 20MB ุจุงุดุฏ
   - ุงุฒ ฺฉูุช ฺฉูุชุฑ ุจุฑุง ุนฺฉุณ ุงุณุชูุงุฏู ฺฉูุฏ

2. **ุฎุทุง ูููุช**
   - ูููุชโูุง ูุงุฑุณ ุฑุง ุฏุฑ ูพูุดู `fonts/` ูุฑุงุฑ ุฏูุฏ
   - ูุทูุฆู ุดูุฏ ูุงูโูุง ูููุช ุฎุฑุงุจ ูุณุชูุฏ

3. **ุฎุทุง ุฏุชุงุจุณ**
   - ุจุฑุฑุณ ฺฉูุฏ ูพูุดู `data/` ูุงุจู ููุดุชู ุจุงุดุฏ
   - ูุงูโูุง JSON ุฑุง ุจุฑุฑุณ ฺฉูุฏ

## ๐ ูพุดุชุจุงู

ุจุฑุง ูุดฺฉูุงุช ูู:
- ุจุฑุฑุณ ูุงฺฏโูุง ุฑุจุงุช
- ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ `/admin system` ุจุฑุง ุจุฑุฑุณ ูุถุนุช
- ุชูุงุณ ุจุง ูพุดุชุจุงู

## ๐ ุขูุงุฑ ู ฺฏุฒุงุฑุดโฺฏุฑ

ุฏุณุชูุฑุงุช ุงุฏูู:
- `/admin stats` - ุขูุงุฑ ฺฉู
- `/admin list` - ูุณุช ฺฉุงุฑุจุฑุงู ุงุดุชุฑุงฺฉ
- `/admin payments` - ูพุฑุฏุงุฎุชโูุง ุฏุฑ ุงูุชุธุงุฑ
- `/admin feedback` - ุจุงุฒุฎูุฑุฏูุง ฺฉุงุฑุจุฑุงู
- `/admin system` - ูุถุนุช ุณุณุชู

## ๐ ุจูโุฑูุฒุฑุณุงู

ุจุฑุง ุจูโุฑูุฒุฑุณุงู ุฑุจุงุช:
1. ูพุดุชุจุงูโฺฏุฑ ุงุฒ ุฏุงุฏูโูุง
2. ุฏุงูููุฏ ูุณุฎู ุฌุฏุฏ
3. ุจุงุฒุงุจ ุฏุงุฏูโูุง
4. ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ

---

**ูฺฉุชู**: ุงู ุฑุจุงุช ุจุฑุง ุงุณุชูุงุฏู ุดุฎุต ู ุชุฌุงุฑ ุทุฑุงุญ ุดุฏู ู ูุงุจูุช ููุงุณโูพุฐุฑ ุฏุงุฑุฏ.
